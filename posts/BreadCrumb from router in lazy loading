# How to create BreadCrumb in Lazy Loading Module
### 1. Create BreadCrumb component
We need to create a compoent to hold breadcrumb
### 2. Listen to the Router event
in breadcrumb.component.ts, 
```javascript
constructor(private router: Router,
            private activatedRoute: ActivatedRoute) {
  this.breadcrumbs = [];
  this.router.events.pipe(
    filter(event => event instanceof NavigationEnd)).subscribe( event => {
    const root: ActivatedRoute = this.activatedRoute.root;
    this.breadcrumbs = this.getBreadcrumbs(root);
  });
}
```
### 3. Build breadcrumbs with the root of the activated route
in breadcrumb.component.ts
```javascript
getBreadcrumbs(route: ActivatedRoute, url: string = 'home', breadcrumbs: BreadCrumb[] = []): BreadCrumb[] {
    const ROUTE_DATA_BREADCRUMB = 'breadcrumb';
    const children: ActivatedRoute[] = route.children;
    let label = '';
    if (children.length === 0) {
      return breadcrumbs;
    }
    for (const child of children) {
      //verify primary route
      if (child.outlet !== PRIMARY_OUTLET) {
        continue;
      }
      if (!child.snapshot.data.hasOwnProperty(ROUTE_DATA_BREADCRUMB)) {
        return this.getBreadcrumbs(child, url, breadcrumbs);
      }
      if (child.snapshot.url.map(segment => segment.path).length === 0) {
        return this.getBreadcrumbs(child, url, breadcrumbs);
      }
      const routeArray = child.snapshot.url.map(segment => segment.path);
      for ( let i = 0; i < routeArray.length; i++ ) {
        if ( Object.keys(child.snapshot.params).length > 0 ) {
          if ( this.isParam(child.snapshot.params, routeArray[i]) ) {
            label = routeArray[i];
          } else {
            label = child.snapshot.data[ROUTE_DATA_BREADCRUMB];
          }
        } else {
          label = child.snapshot.data[ROUTE_DATA_BREADCRUMB];
        }
        const routeURL = routeArray[i];
        url += `/${routeURL}`;
        const breadcrumb: BreadCrumb = {
          label: label,
          params: child.snapshot.params,
          url: url
        };
        breadcrumbs.push(breadcrumb);
      }
      //recursive
      return this.getBreadcrumbs(child, url, breadcrumbs);
    }
    console.log(breadcrumbs)
    return breadcrumbs;
}
```
### 4. Display breadcrumb in the screen
in breadcrumb.compnent.html
```html
<div class="breadcrumb">
  <li><a routerLink="">Home</a></li>
  <li *ngFor="let breadcrumb of breadcrumbs">
    <a routerLink="../{{breadcrumb.url}}">{{breadcrumb.label}}</a>
  </li>
</div>
```
### 5. CSS style
in breadcrumb.compnent.css
```css
.breadcrumb li {
  display: inline;
}
.breadcrumb li+li:before {
  padding: 8px;
  color: black;
  content: "/\00a0";
}
.breadcrumb li a {
  color: #0275d8;
  text-decoration: none;
}
```
